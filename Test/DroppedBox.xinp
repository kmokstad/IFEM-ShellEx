<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<simulation>
  <geometry dim="3">
    <patchfile type="Nastran">Q4box.nas</patchfile>
  </geometry>

  <elasticity>
    <gravity z="-9.81"/>
    <seasurface type="expression">
      wavel=4.0; waveh=0.1; wavespeed=-4.0; tstart=1.0;
      refx=3.0+wavespeed*(t-tstart);
      if(above(x+ux,refx),0.5*waveh*sin((x+ux-refx)*2*PI/wavel),0.0)
    </seasurface>
    <pressure code="1" type="hydrostatic" waterline="0.1" waterdensity="1000.0"/>
  </elasticity>

  <discretization type="lagrange">
    <nGauss>2</nGauss>
  </discretization>

  <newmarksolver alpha1="1.0" alpha2="0.01">
    <nupdate>0</nupdate>
    <timestepping>
      <step start="0.0" end="5.0">0.05</step>
    </timestepping>
  </newmarksolver>

  <postprocessing>
    <primarysol_only/>
    <translation_only/>
    <saveTrac/>
    <saveAcc/>
    <seasurface X0="-3.0 -0.5 0.1" Lx="5" Ly="2" gridsize="0.25"/>
  </postprocessing>

</simulation>
