<?xml version="1.0" encoding="UTF-8" standalone="yes"?>

<simulation>

  <geometry dim="3" modelsize="3.5">
    <patchfile type="Nastran">Small_Boat.dat</patchfile>
    <topologysets>
      <set name="rib" type="elements">
        <item patch="1">418:449 794:825</item>
      </set>
      <set name="wet" type="elements">
        <item patch="1">450:517 533:611 737:793 856:945</item>
      </set>
    </topologysets>
  </geometry>

  <elasticity>
    <gravity z="-9.81"/>
    <seasurface type="expression">
      g=9.81; Tp=5.0; Hs=1.5; tstart=1.0;
      omega=2.0*PI/Tp; wavespeed=g/omega; wavel=wavespeed/omega;
      refx=10.0-wavespeed*(t-tstart);
      if(above(x+ux,refx),0.5*Hs*sin((x+ux-refx)/wavel),0.0)
    </seasurface>
    <pressure set="wet" type="hydrostatic" waterline="0.1" waterdensity="1000.0"/>
  </elasticity>

  <discretization type="lagrange">
    <nGauss>2</nGauss>
  </discretization>

  <newmarksolver alpha1="1.0" alpha2="0.03">
    <nupdate>0</nupdate>
    <timestepping>
      <step start="0.0" end="5.0">0.01</step>
    </timestepping>
  </newmarksolver>

  <postprocessing>
    <stride dt="0.1"/>
    <primarysol_only/>
    <translation_only/>
    <saveAcc/>
    <seasurface X0="-10.0 -2.5 0.1" Lx="20.0" Ly="5.0" gridsize="0.5"/>
  </postprocessing>

</simulation>
